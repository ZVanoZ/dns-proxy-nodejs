# Справочник команд vanzan01/cursor-memory-bank v0.8

**Дата создания:** 2026-01-22  
**Версия методологии:** vanzan01/cursor-memory-bank v0.8

---

## Команды методологии

### `/van` - Инициализация и анализ

**Назначение:**
- Инициализация Memory Bank системы
- Определение платформы
- Анализ задачи и определение уровня сложности (Level 1-4)
- Маршрутизация к соответствующему workflow

**Использование:**
```
/van [описание задачи]

Пример:
/van Добавить поддержку протокола IPv6 в DNS-прокси сервер
```

**Что происходит:**
1. AI анализирует задачу
2. Определяет уровень сложности:
   - **Level 1:** Quick Bug Fix (быстрое исправление бага)
   - **Level 2:** Simple Enhancement (простое улучшение)
   - **Level 3:** Intermediate Feature (промежуточная функция)
   - **Level 4:** Complex System (сложная система)
3. Обновляет `memory-bank/tasks.md` с информацией о задаче
4. Обновляет `memory-bank/activeContext.md` с текущим фокусом

**Результат:**
- Задача зарегистрирована в `memory-bank/tasks.md`
- Определен уровень сложности
- AI готов к следующему шагу

**Когда использовать:**
- При создании новой задачи
- При начале работы над задачей из `todo-list.md`

---

### `/plan` - Планирование

**Назначение:**
- Создание детального плана реализации на основе уровня сложности
- Документирование изменений, файлов для модификации, шагов реализации
- Валидация технологий (для Level 2-4)
- Определение компонентов, требующих творческой фазы (design decisions)

**Использование:**
```
/plan

Команда выполняется без параметров, так как AI читает задачу из memory-bank/tasks.md
```

**Что происходит:**
1. AI читает задачу из `memory-bank/tasks.md`
2. Читает контекст из `memory-bank/activeContext.md`
3. Создает детальный план реализации:
   - **Level 2:** Планируемые изменения, файлы для модификации, шаги реализации
   - **Level 3:** Комплексный план с компонентами, зависимостями, вызовами
   - **Level 4:** Поэтапный план реализации с архитектурными соображениями
4. Определяет компоненты, требующие творческой фазы
5. Обновляет `memory-bank/tasks.md` с полным планом

**Результат:**
- Детальный план реализации в `memory-bank/tasks.md`
- Определены компоненты для творческой фазы (если есть)
- План готов к выполнению или творческой фазе

**Когда использовать:**
- После `/van` для Level 2-4 задач
- Для Level 1 задач можно пропустить (переход сразу к `/build`)

---

### `/creative` - Творческая фаза

**Назначение:**
- Исследование дизайнерских решений для компонентов, отмеченных в плане
- Генерация 2-4 вариантов решения
- Анализ плюсов и минусов каждого варианта
- Выбор и обоснование рекомендуемого подхода
- Документирование руководящих принципов реализации

**Использование:**
```
/creative

Команда выполняется без параметров, так как AI читает компоненты из memory-bank/tasks.md
```

**Что происходит:**
1. AI читает компоненты, требующие творческой фазы, из `memory-bank/tasks.md`
2. Для каждого компонента:
   - Определяет требования и ограничения
   - Генерирует 2-4 варианта дизайна
   - Анализирует плюсы и минусы каждого варианта
   - Выбирает и обосновывает рекомендуемый подход
   - Документирует руководящие принципы реализации
3. Создает `memory-bank/creative/creative-[feature_name].md` для каждого компонента
4. Обновляет `memory-bank/tasks.md` с дизайнерскими решениями

**Результат:**
- Документы творческой фазы в `memory-bank/creative/`
- Дизайнерские решения зафиксированы
- Готово к реализации

**Когда использовать:**
- Только если в плане (`/plan`) были определены компоненты, требующие творческой фазы
- Обычно для Level 3-4 задач
- Для задач, требующих архитектурных решений

**Когда пропускать:**
- Для Level 1-2 задач
- Если в плане нет компонентов, требующих творческой фазы

---

### `/build` - Реализация

**Назначение:**
- Систематическая реализация запланированных изменений
- Следование плану реализации и решениям творческой фазы
- Тест-ориентированный подход: тесты пишутся для всех критериев успеха и должны проходить перед завершением каждого этапа
- Обновление прогресса в Memory Bank

**Использование:**
```
/build

Команда выполняется без параметров, так как AI читает план из memory-bank/tasks.md
```

**Что происходит:**
1. AI проверяет завершение планирования в `memory-bank/tasks.md`
2. Для Level 3-4: проверяет наличие документов творческой фазы
3. Реализует изменения последовательно:
   - **Level 1:** Быстрое исправление бага с тестами
   - **Level 2:** Последовательная реализация изменений с тестами
   - **Level 3-4:** Поэтапная реализация с тестами для каждого этапа
4. Для каждого этапа:
   - Пишет тесты для всех критериев успеха
   - Запускает тесты и убеждается, что они проходят
   - **ВАЖНО:** Не переходит к следующему этапу, пока все тесты не пройдут
5. Обновляет `memory-bank/tasks.md` и `memory-bank/progress.md` с прогрессом

**Результат:**
- Реализованы все запланированные изменения
- Все тесты проходят
- Код готов к рефлексии

**Когда использовать:**
- После `/plan` (или после `/creative` для Level 3-4)
- Для Level 1 задач можно использовать сразу после `/van`

---

### `/reflect` - Рефлексия

**Назначение:**
- Структурированная рефлексия по завершенной реализации
- Документирование извлеченных уроков и улучшений процесса
- Сравнение реализации с оригинальным планом
- Анализ того, что прошло хорошо, и вызовов

**Использование:**
```
/reflect

Команда выполняется без параметров, так как AI читает детали реализации из memory-bank/tasks.md
```

**Что происходит:**
1. AI проверяет завершение реализации в `memory-bank/tasks.md`
2. Если не завершена, возвращается к `/build`
3. Проводит рефлексию:
   - Сравнивает реализацию с оригинальным планом
   - Анализирует решения творческой фазы (Level 3-4)
   - Просматривает изменения кода и тестирование
4. Создает документ рефлексии:
   - **Level 1:** Краткий обзор исправления бага
   - **Level 2:** Обзор улучшения, что прошло хорошо, вызовы, уроки
   - **Level 3-4:** Комплексный обзор реализации, сравнение с планом, что прошло хорошо, вызовы, уроки, улучшения процесса, технические улучшения
5. Создает `memory-bank/reflection/reflection-[task_id].md`
6. Обновляет `memory-bank/tasks.md` со статусом рефлексии

**Результат:**
- Документ рефлексии в `memory-bank/reflection/`
- Уроки задокументированы
- Готово к архивированию

**Когда использовать:**
- После завершения `/build`
- Перед `/archive`

---

### `/archive` - Архивирование

**Назначение:**
- Создание комплексной архивной документации для будущей справки
- Обновление Memory Bank для следующей задачи
- Маркировка задачи как завершенной
- Сброс активного контекста

**Использование:**
```
/archive

Команда выполняется без параметров, так как AI читает детали задачи из memory-bank/tasks.md
```

**Что происходит:**
1. AI проверяет завершение рефлексии
2. Если не завершена, возвращается к `/reflect`
3. Создает архивный документ:
   - **Level 1:** Краткое резюме
   - **Level 2:** Базовый архивный документ с изменениями
   - **Level 3-4:** Комплексный архивный документ с метаданными, резюме, требованиями, деталями реализации, тестированием, уроками, ссылками
4. Создает `memory-bank/archive/archive-[task_id].md`
5. Обновляет Memory Bank:
   - Маркирует задачу как ЗАВЕРШЕНА в `memory-bank/tasks.md`
   - Обновляет `memory-bank/progress.md` со ссылкой на архив
   - Сбрасывает `memory-bank/activeContext.md` для следующей задачи
   - Очищает детали завершенной задачи из `memory-bank/tasks.md` (сохраняет структуру)

**Результат:**
- Архивный документ в `memory-bank/archive/`
- Задача помечена как завершенная
- Memory Bank готов к следующей задаче

**Когда использовать:**
- После завершения `/reflect`
- Перед началом новой задачи

---

## Последовательность команд

### Стандартный workflow:

```
/van → /plan → [/creative] → /build → /reflect → /archive
```

### Для Level 1 (Quick Bug Fix):

```
/van → /build → /reflect → /archive
```

(Можно пропустить `/plan` и `/creative`)

---

## Когда пропускать команды

- **`/creative`** - Пропускается для Level 1-2 задач или если в плане нет компонентов, требующих творческой фазы
- **`/plan`** - Можно пропустить для Level 1 задач (переход сразу к `/build`)
- **`/van`** - Можно пропустить, если задача уже зарегистрирована в `memory-bank/tasks.md`

---

## Важные замечания

1. **Одна активная задача:** В `memory-bank/tasks.md` всегда только одна активная задача
2. **Последовательность:** Команды должны выполняться в правильном порядке
3. **Завершение:** Задача должна быть завершена через `/archive` перед началом новой
4. **Тесты:** Все тесты должны проходить перед завершением каждого этапа в `/build`

---

**См. также:**
- [Стандартный workflow](standard-workflow.md) - детальное описание каждого этапа
- [Workflow со списком задач](list-workflow.md) - работа со списком задач
- [Примеры использования](examples.md) - практические примеры
