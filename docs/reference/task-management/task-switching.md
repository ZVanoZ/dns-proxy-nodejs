# Переключение между задачами

**Дата создания:** 2026-01-22  
**Версия методологии:** vanzan01/cursor-memory-bank v0.8

---

## Можно ли переключаться между задачами не завершив их?

### Краткий ответ: ⚠️ **НЕ РЕКОМЕНДУЕТСЯ, но возможно с осторожностью**

---

## Принципы методологии

Методология vanzan01/cursor-memory-bank v0.8 предполагает работу с **одной активной задачей** в `memory-bank/tasks.md`. Это означает:

1. **Одна активная задача:** В `memory-bank/tasks.md` всегда только одна текущая задача
2. **Полный цикл:** Задача должна пройти полный цикл от `/van` до `/archive`
3. **Чистый контекст:** После `/archive` Memory Bank готов к новой задаче

---

## Что происходит при переключении между задачами

### Сценарий 1: Переключение БЕЗ завершения текущей задачи (НЕ РЕКОМЕНДУЕТСЯ) ❌

**Что происходит:**
1. Текущая задача остается в `memory-bank/tasks.md` в незавершенном состоянии
2. При выполнении `/van` для новой задачи:
   - AI обнаружит существующую задачу в `memory-bank/tasks.md`
   - Может возникнуть конфликт или путаница
   - Контекст может смешаться

**Проблемы:**
- ❌ Смешанный контекст в `memory-bank/tasks.md`
- ❌ Неясно, какая задача активна
- ❌ Риск потери прогресса по текущей задаче
- ❌ Нарушение принципов методологии

**Рекомендация:** ⚠️ **НЕ ДЕЛАТЬ ТАК**

---

### Сценарий 2: Переключение ПОСЛЕ архивирования текущей задачи (РЕКОМЕНДУЕТСЯ) ✅

**Что происходит:**
1. Текущая задача завершается через `/archive`
2. `memory-bank/tasks.md` очищается от деталей задачи
3. `memory-bank/activeContext.md` сбрасывается
4. Можно безопасно начать новую задачу через `/van`

**Преимущества:**
- ✅ Чистый контекст для новой задачи
- ✅ Текущая задача заархивирована и сохранена
- ✅ Соответствие принципам методологии
- ✅ Нет конфликтов или путаницы

**Рекомендация:** ✅ **РЕКОМЕНДУЕТСЯ**

---

## Рекомендуемые подходы к переключению

### Подход 1: Завершение задачи перед переключением (РЕКОМЕНДУЕТСЯ) ⭐⭐⭐⭐⭐

**Алгоритм:**
1. Завершите текущую задачу через `/archive`
2. Дождитесь, пока задача будет заархивирована
3. Начните новую задачу через `/van`

**Преимущества:**
- ✅ Соответствие принципам методологии
- ✅ Чистый контекст для новой задачи
- ✅ Все задачи заархивированы и сохранены
- ✅ Нет риска потери прогресса

**Когда использовать:**
- Всегда, когда это возможно
- Когда задача близка к завершению
- Когда нужно сохранить все результаты работы

---

### Подход 2: Временное сохранение прогресса (если необходимо переключиться) ⚠️

**Если необходимо переключиться на срочную задачу:**

1. **Сохраните текущий прогресс:**
   - Создайте копию `memory-bank/tasks.md` с именем `memory-bank/tasks-backup-[date].md`
   - Задокументируйте текущий этап работы в комментариях

2. **Завершите текущую задачу досрочно:**
   - Выполните `/reflect` для текущего состояния
   - Выполните `/archive` для сохранения прогресса
   - Задача будет заархивирована в текущем состоянии

3. **Начните новую задачу:**
   - Выполните `/van` для новой задачи
   - Работайте над новой задачей

4. **Вернитесь к предыдущей задаче:**
   - После завершения новой задачи
   - Восстановите контекст из архива
   - Продолжите работу с того места, где остановились

**Важно:**
- ⚠️ Это нарушает принципы методологии
- ⚠️ Требует дополнительных действий
- ⚠️ Может привести к потере контекста
- ⚠️ Используйте только в крайних случаях

---

### Подход 3: Разбиение большой задачи на подзадачи (РЕКОМЕНДУЕТСЯ) ⭐⭐⭐⭐

**Если задача слишком большая и требует переключения:**

1. **Разбейте задачу на подзадачи:**
   - Определите логические этапы задачи
   - Создайте отдельные задачи для каждого этапа в `todo-list.md`

2. **Выполняйте подзадачи последовательно:**
   - Каждая подзадача проходит полный цикл методологии
   - После завершения одной подзадачи переходите к следующей

3. **Преимущества:**
   - ✅ Соответствие принципам методологии
   - ✅ Каждая подзадача завершается полностью
   - ✅ Легче отслеживать прогресс
   - ✅ Можно переключаться между подзадачами безопасно

**Пример:**
Вместо одной большой задачи "Реализовать систему статистики" создайте:
- Задача 1: "Создать модуль сбора статистики"
- Задача 2: "Интегрировать статистику с логированием"
- Задача 3: "Добавить API для получения статистики"

---

## Сравнительная таблица подходов

| Подход | Соответствие методологии | Безопасность | Рекомендация |
|--------|-------------------------|--------------|--------------|
| **Завершение перед переключением** | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ✅ **РЕКОМЕНДУЕТСЯ** |
| **Временное сохранение прогресса** | ⭐⭐ | ⭐⭐⭐ | ⚠️ Только в крайних случаях |
| **Разбиение на подзадачи** | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ✅ **РЕКОМЕНДУЕТСЯ** |

---

## Рекомендации

### ✅ Рекомендуется:

1. **Всегда завершайте задачу перед переключением:**
   - Выполняйте `/archive` для текущей задачи
   - Начинайте новую задачу только после архивирования

2. **Разбивайте большие задачи на подзадачи:**
   - Создавайте отдельные задачи для каждого этапа
   - Каждая подзадача проходит полный цикл

3. **Планируйте работу заранее:**
   - Составляйте список задач в `todo-list.md`
   - Выбирайте задачи в логическом порядке

### ⚠️ Не рекомендуется:

1. **Переключаться без завершения задачи:**
   - Это нарушает принципы методологии
   - Может привести к потере контекста
   - Риск смешивания задач

2. **Оставлять задачи незавершенными:**
   - Незавершенные задачи создают путаницу
   - Сложно отслеживать прогресс
   - Нарушает чистоту Memory Bank

---

## Исключения

**Единственное допустимое исключение:**
- Если необходимо срочно переключиться на критическую задачу
- В этом случае используйте подход 2 (временное сохранение прогресса)
- Но старайтесь избегать таких ситуаций

---

## Заключение

**Основной принцип:** Методология vanzan01/cursor-memory-bank v0.8 предполагает работу с одной активной задачей. Переключение между задачами должно происходить только после завершения текущей задачи через `/archive`.

**Рекомендация:** Всегда завершайте задачу перед переключением. Если задача слишком большая, разбейте её на подзадачи.

---

**См. также:**
- [Стандартный workflow](standard-workflow.md) - работа с одной задачей
- [Workflow со списком задач](list-workflow.md) - работа со списком задач
- [Организация списка задач](task-list-organization.md) - структура файлов
