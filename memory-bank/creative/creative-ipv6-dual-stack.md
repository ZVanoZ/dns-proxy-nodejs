# Creative Phase: Dual-stack IPv4/IPv6 (task20260121120400)

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2026-01-30  
**–¢–∏–ø:** –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ + –º–æ–¥–µ–ª—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏  
**–°—Ç–∞—Ç—É—Å:** üé® CREATIVE PHASE ‚úÖ **–†–ï–®–ï–ù–ò–ï –ü–†–ò–ù–Ø–¢–û**

---

## üé®üé®üé® ENTERING CREATIVE PHASE: ARCHITECTURE ‚Äî DUAL-STACK SOCKETS

### –ö–æ–Ω—Ç–µ–∫—Å—Ç

- **–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ:** dual-stack ‚Äî –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —Å–ª—É—à–∞—Ç—å UDP –ø–æ IPv4 –∏ IPv6.
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:** –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –Ω–∞ –ø—Ä–æ—Å—Ç–æ—Ç—É –∫–æ–¥–∞ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏; –æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –Ω–µ –Ω—É–∂–Ω–∞.
- **–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** –æ–¥–∏–Ω —Å–æ–∫–µ—Ç `udp4`, –æ–¥–∏–Ω `this.socket`; –æ—Ç–≤–µ—Ç—ã –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ `this.socket.send(...)`.

### –ü—Ä–æ–±–ª–µ–º–∞

–ü—Ä–∏ –¥–≤—É—Ö —Å–æ–∫–µ—Ç–∞—Ö (udp4 –∏ udp6) –æ—Ç–≤–µ—Ç –Ω—É–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Ç–µ–º —Å–æ–∫–µ—Ç–æ–º, —Å –∫–æ—Ç–æ—Ä–æ–≥–æ –ø—Ä–∏—à—ë–ª –∑–∞–ø—Ä–æ—Å. –ù—É–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å —Å–ø–æ—Å–æ–± —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ–∫–µ—Ç–æ–≤ –∏ –ø–µ—Ä–µ–¥–∞—á–∏ ¬´—Ç–µ–∫—É—â–µ–≥–æ¬ª —Å–æ–∫–µ—Ç–∞ –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏ –≤ –º–µ—Ç–æ–¥—ã –æ—Ç–ø—Ä–∞–≤–∫–∏.

---

## –í–∞—Ä–∏–∞–Ω—Ç—ã: —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ–∫–µ—Ç–æ–≤ –∏ –ø–µ—Ä–µ–¥–∞—á–∞ —Å–æ–∫–µ—Ç–∞ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏

### –í–∞—Ä–∏–∞–Ω—Ç 1: –û–¥–∏–Ω —Å–æ–∫–µ—Ç + –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –≤—Ç–æ—Ä–æ–π, –ø–µ—Ä–µ–¥–∞—á–∞ —Å–æ–∫–µ—Ç–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º ‚≠ê **–í–´–ë–†–ê–ù–û**

**–û–ø–∏—Å–∞–Ω–∏–µ:**
- –ü–æ–ª—è: `socket: Socket | null` (udp4) –∏ `socket6: Socket | null` (udp6). –ö–∞–∂–¥—ã–π —Å–æ–∑–¥–∞—ë—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∑–∞–¥–∞–Ω —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Ö–æ—Å—Ç –≤ –∫–æ–Ω—Ñ–∏–≥–µ (—Å–º. —Ä–µ–∂–∏–º—ã –±–∏–Ω–¥–∏–Ω–≥–∞ –Ω–∏–∂–µ).
- –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–æ–±—â–µ–Ω–∏–π –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Å –¥–≤—É–º—è —Å–æ–∫–µ—Ç–∞–º–∏ —á–µ—Ä–µ–∑ –∑–∞–º—ã–∫–∞–Ω–∏–µ: –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–æ–∫–µ—Ç–∞ `socket.on('message', (msg, rinfo) => this.onSocketMessage(msg, rinfo, socket))`.
- `sendErrorResponse` –∏ `sendSuccessResponse` –ø—Ä–∏–Ω–∏–º–∞—é—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç `socket: Socket` –∏ –≤—ã–∑—ã–≤–∞—é—Ç `socket.send(...)`.

**–ü–ª—é—Å—ã:**
- –Ø–≤–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ —Å–æ–∫–µ—Ç–∞, –±–µ–∑ –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è.
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–∏–≥–Ω–∞—Ç—É—Ä: –æ–¥–∏–Ω –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä –≤ —Ç—Ä—ë—Ö –º–µ—Å—Ç–∞—Ö (onSocketMessage, sendErrorResponse, sendSuccessResponse).
- –ü–æ–Ω—è—Ç–Ω–æ –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏ –∫–æ–¥–∞: –æ—Ç–≤–µ—Ç –∏–¥—ë—Ç —Ç–µ–º —Å–æ–∫–µ—Ç–æ–º, –∫–æ—Ç–æ—Ä—ã–π –ø–µ—Ä–µ–¥–∞–Ω.

**–ú–∏–Ω—É—Å—ã:**
- –ù—É–∂–Ω–æ –ø—Ä–æ–±—Ä–æ—Å–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä `socket` –≤ —Ü–µ–ø–æ—á–∫–µ –≤—ã–∑–æ–≤–æ–≤.

**–û—Ü–µ–Ω–∫–∞:** ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê ‚Äî —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è.

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ú–∞—Å—Å–∏–≤ —Å–æ–∫–µ—Ç–æ–≤ + –∏–Ω–¥–µ–∫—Å/–∫–ª—é—á –ø–æ family

**–û–ø–∏—Å–∞–Ω–∏–µ:**
- `sockets: Map<string, Socket>` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `'udp4'` –∏ `'udp6'`) –∏–ª–∏ –º–∞—Å—Å–∏–≤ `[socket4, socket6]`.
- –í `remoteInfo` (Node.js) –µ—Å—Ç—å –ø–æ–ª–µ `family: 'IPv4' | 'IPv6'`. –ü–æ –Ω–µ–º—É –≤—ã–±–∏—Ä–∞–µ–º —Å–æ–∫–µ—Ç: `this.sockets.get(rinfo.family === 'IPv6' ? 'udp6' : 'udp4')`.

**–ü–ª—é—Å—ã:**
- –ù–µ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —Å–æ–∫–µ—Ç –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ ‚Äî –≤—ã–±–∏—Ä–∞–µ–º –ø–æ `rinfo.family`.
- –ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Å–æ–∫–µ—Ç–∞–º–∏.

**–ú–∏–Ω—É—Å—ã:**
- –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç —Ñ–æ—Ä–º–∞—Ç–∞ `RemoteInfo.family` (–Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤ Node –¥–ª—è udp4/udp6).
- –õ–æ–≥–∏–∫–∞ –≤—ã–±–æ—Ä–∞ —Å–æ–∫–µ—Ç–∞ —Ä–∞–∑–º–∞–∑–∞–Ω–∞ (–≤—ã–±–æ—Ä –≤ send* –ø–æ rinfo).

**–û—Ü–µ–Ω–∫–∞:** ‚≠ê‚≠ê‚≠ê‚≠ê ‚Äî –¥–æ–ø—É—Å—Ç–∏–º–æ, –Ω–æ –≤–∞—Ä–∏–∞–Ω—Ç 1 –ø—Ä–æ—â–µ –∏ —è–≤–Ω–µ–µ.

---

### –í–∞—Ä–∏–∞–Ω—Ç 3: –î–≤–∞ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ —Å –∑–∞–º—ã–∫–∞–Ω–∏–µ–º

**–û–ø–∏—Å–∞–Ω–∏–µ:**
- `onSocketMessage4(msg, rinfo)` –∏ `onSocketMessage6(msg, rinfo)` ‚Äî –∫–∞–∂–¥—ã–π –≤—ã–∑—ã–≤–∞–µ—Ç –æ–±—â—É—é –ª–æ–≥–∏–∫—É `handleMessage(msg, rinfo, socket)`, –≥–¥–µ `socket` –∑–∞–º—ã–∫–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–æ–¥–ø–∏—Å–∫–µ.

**–ü–ª—é—Å—ã:**
- –°–æ–∫–µ—Ç –Ω–µ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —á–µ—Ä–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç—ã ‚Äî –æ–Ω –∏–∑–≤–µ—Å—Ç–µ–Ω –≤ –∑–∞–º—ã–∫–∞–Ω–∏–∏.

**–ú–∏–Ω—É—Å—ã:**
- –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏ –∏ –ø—Ä–∏–≤—è–∑–∫–∏; –¥–≤–µ —Ç–æ—á–∫–∏ –≤—Ö–æ–¥–∞ –≤ –æ–¥–Ω—É –∏ —Ç—É –∂–µ –ª–æ–≥–∏–∫—É. –ú–µ–Ω–µ–µ —è–≤–Ω–æ, —á–µ–º –æ–¥–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º —Å–æ–∫–µ—Ç–∞.

**–û—Ü–µ–Ω–∫–∞:** ‚≠ê‚≠ê‚≠ê ‚Äî —Ä–∞–±–æ—á–µ–µ, –Ω–æ –≤–∞—Ä–∏–∞–Ω—Ç 1 –ø—Ä–æ—â–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å.

---

## –†–µ—à–µ–Ω–∏–µ: –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–æ–∫–µ—Ç–æ–≤

**–í—ã–±—Ä–∞–Ω –≤–∞—Ä–∏–∞–Ω—Ç 1.**

- –•—Ä–∞–Ω–µ–Ω–∏–µ: `socket: Socket` (udp4), `socket6: Socket | null` (udp6 –ø—Ä–∏ –≤–∫–ª—é—á—ë–Ω–Ω–æ–º IPv6).
- –ü—Ä–∏–≤—è–∑–∫–∞: –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–æ–∫–µ—Ç–∞ `socket.on('message', (msg, rinfo) => this.onSocketMessage(msg, rinfo, socket))`.
- –°–∏–≥–Ω–∞—Ç—É—Ä—ã: `onSocketMessage(msg, rinfo, socket)`, `sendErrorResponse(..., socket)`, `sendSuccessResponse(..., socket)` ‚Äî –≤–µ–∑–¥–µ —è–≤–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ —Å–æ–∫–µ—Ç–∞ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:**
- –í `initSocket()`: —Å–æ–∑–¥–∞—Ç—å udp4 —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∑–∞–¥–∞–Ω `bindV4Host`, udp6 —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∑–∞–¥–∞–Ω `bindV6Host`; –æ–±–∞ –±–∏–Ω–¥—è—Ç—Å—è –Ω–∞ `bindPort`. –•–æ—Ç—è –±—ã –æ–¥–∏–Ω —Å–æ–∫–µ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω (–∏–Ω–∞—á–µ –æ—à–∏–±–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏).
- –û–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ —Å–æ–∫–µ—Ç–∞ (close –ø—Ä–∏ EADDRINUSE –∏ —Ç.–ø.) –æ—Å—Ç–∞–≤–∏—Ç—å –Ω–∞ —É—Ä–æ–≤–Ω–µ –∫–∞–∂–¥–æ–≥–æ —Å–æ–∫–µ—Ç–∞; –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ –æ–¥–Ω–æ–≥–æ —Å–æ–∫–µ—Ç–∞ –≤—Ç–æ—Ä–æ–π –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å.

---

## üé®üé®üé® ENTERING CREATIVE PHASE: –ú–û–î–ï–õ–¨ –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–ò IPv6

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- –ü—Ä–æ—Å—Ç–æ–π –∏ –ø–æ–Ω—è—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç.
- –û–¥–∏–Ω –ø–æ—Ä—Ç –¥–ª—è dual-stack (–æ–±–∞ —Å–æ–∫–µ—Ç–∞ –Ω–∞ –æ–¥–Ω–æ–º –Ω–æ–º–µ—Ä–µ –ø–æ—Ä—Ç–∞).
- –í–∫–ª—é—á–µ–Ω–∏–µ IPv6 –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (—Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∑–∞–¥–∞–Ω–∏–∏ –∞–¥—Ä–µ—Å–∞ –ø—Ä–∏–≤—è–∑–∫–∏ –¥–ª—è IPv6).

### –í–∞—Ä–∏–∞–Ω—Ç—ã —Ñ–æ—Ä–º–∞—Ç–∞ app.ini

#### –í–∞—Ä–∏–∞–Ω—Ç A: –û–¥–Ω–∞ —Å–µ–∫—Ü–∏—è [app], –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π host6

```ini
[app]
host=0.0.0.0
port=5053
host6=::
```

- –ï—Å–ª–∏ `host6` –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∏–ª–∏ –ø—É—Å—Ç–æ–π ‚Äî —Ç–æ–ª—å–∫–æ IPv4.
- –ï—Å–ª–∏ `host6` –∑–∞–¥–∞–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä, `::`) ‚Äî –ø–æ–¥–Ω–∏–º–∞–µ–º –∏ udp6 –Ω–∞ —Ç–æ–º –∂–µ `port`.

**–ü–ª—é—Å—ã:** –æ–¥–Ω–∞ —Å–µ–∫—Ü–∏—è, –æ–¥–∏–Ω –ø–æ—Ä—Ç, –º–∏–Ω–∏–º—É–º –ø–æ–ª–µ–π. –ü–æ–Ω—è—Ç–Ω–æ: –µ—Å—Ç—å host6 ‚Äî –µ—Å—Ç—å IPv6.  
**–ú–∏–Ω—É—Å—ã:** –Ω–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –ø–æ—Ä—Ç–∞ –¥–ª—è IPv6 (–ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é ‚Äî –æ–¥–∏–Ω –ø–æ—Ä—Ç, —ç—Ç–æ –ø–ª—é—Å).

---

#### –í–∞—Ä–∏–∞–Ω—Ç B: –ü—Ä–µ—Ñ–∏–∫—Å—ã v4 –∏ v6 (v4host, v6host) ‚≠ê **–í–´–ë–†–ê–ù–û (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ)**

```ini
[app]
v4host=0.0.0.0
v6host=::
port=5053
```

- –û–ø—Ü–∏–∏ —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω—ã –ø–æ –ø—Ä–µ—Ñ–∏–∫—Å—É: –≤—Å–µ `v4*` –¥–ª—è IPv4, –≤—Å–µ `v6*` –¥–ª—è IPv6.
- –•–æ—Ç—è –±—ã –æ–¥–∏–Ω –∏–∑ `v4host`, `v6host` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–¥–∞–Ω. –¢–æ–ª—å–∫–æ v4host ‚Äî IPv4; —Ç–æ–ª—å–∫–æ v6host ‚Äî IPv6; –æ–±–∞ ‚Äî dual-stack.
- –û–¥–∏–Ω `port` –¥–ª—è –≤—Å–µ—Ö —Å–æ–∑–¥–∞–≤–∞–µ–º—ã—Ö —Å–æ–∫–µ—Ç–æ–≤.

**–ü–ª—é—Å—ã:**
- –Ø–≤–Ω–∞—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ —Å–µ–º–µ–π—Å—Ç–≤—É –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏ –∫–æ–Ω—Ñ–∏–≥–∞ –∏ –≤ –∫–æ–¥–µ.
- –ï–¥–∏–Ω—ã–π —Å—Ç–∏–ª—å –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è: –ª—é–±—ã–µ –±—É–¥—É—â–∏–µ –æ–ø—Ü–∏–∏ ‚Äî `v4*` / `v6*`.
- –°–∏–º–º–µ—Ç—Ä–∏—è: –Ω–µ—Ç ¬´–±–∞–∑–æ–≤–æ–≥–æ¬ª host –∏ ¬´–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ¬ª host6.
- –í –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ —Å–≤–æ–π—Å—Ç–≤–∞ –º–æ–∂–Ω–æ –Ω–∞–∑—ã–≤–∞—Ç—å —Ç–∞–∫ –∂–µ: `bindV4Host`, `bindV6Host`.

**–ú–∏–Ω—É—Å—ã:**
- –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ `host` –≤ `v4host` (–æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ —É—Å–ª–æ–≤–∏—é –∑–∞–¥–∞—á–∏).

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ –ø–æ—Ä—Ç—É:** –ø—Ä–∏ –∂–µ–ª–∞–Ω–∏–∏ –ø–æ–ª–Ω–æ–π —Å–∏–º–º–µ—Ç—Ä–∏–∏ ‚Äî `v4port`, `v6port` (–¥–≤–∞ –ø–æ—Ä—Ç–∞). –î–ª—è dual-stack —Å –æ–¥–Ω–∏–º –ø–æ—Ä—Ç–æ–º –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –æ–¥–Ω–æ–≥–æ –∫–ª—é—á–∞ `port`.

---

#### –í–∞—Ä–∏–∞–Ω—Ç B1 (—Å—Ç–∞—Ä—ã–π): –Ø–≤–Ω—ã–µ host4 –∏ host6

```ini
[app]
host4=0.0.0.0
host6=::
port=5053
```

**–ü–ª—é—Å—ã:** —Å–∏–º–º–µ—Ç—Ä–∏—è IPv4/IPv6.  
**–ú–∏–Ω—É—Å—ã:** –ø—Ä–µ—Ñ–∏–∫—Å ¬´host¬ª –Ω–µ –≥—Ä—É–ø–ø–∏—Ä—É–µ—Ç —Ç–∞–∫ –∂–µ —è–≤–Ω–æ, –∫–∞–∫ v4/v6; —Å–º–µ—à–µ–Ω–∏–µ —Å—Ç–∏–ª—è (host4 vs host6).

---

#### –í–∞—Ä–∏–∞–Ω—Ç C: –û—Ç–¥–µ–ª—å–Ω–∞—è —Å–µ–∫—Ü–∏—è [app6]

```ini
[app]
host=0.0.0.0
port=5053

[app6]
host=::
port=5053
```

**–ü–ª—é—Å—ã:** —è–≤–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫.  
**–ú–∏–Ω—É—Å—ã:** –¥–≤–∞ –ø–æ—Ä—Ç–∞ –≤ –∫–æ–Ω—Ñ–∏–≥–µ (—Ä–∏—Å–∫ —Ä–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω–∞); —Å–ª–æ–∂–Ω–µ–µ –∑–∞–≥—Ä—É–∑–∫–∞ (–¥–≤–µ —Å–µ–∫—Ü–∏–∏).

---

## –†–µ–∂–∏–º—ã –±–∏–Ω–¥–∏–Ω–≥–∞

–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —Ç—Ä–∏ —Ä–µ–∂–∏–º–∞, —á—Ç–æ–±—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –º–æ–∂–Ω–æ –±—ã–ª–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–µ–∑ –ø–µ—Ä–µ–¥–µ–ª–∫–∏ –∏ –ø–æ—Å–ª–µ –ø–æ–ª–Ω–æ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ IPv6:

| –†–µ–∂–∏–º        | –£—Å–ª–æ–≤–∏–µ –≤ –∫–æ–Ω—Ñ–∏–≥–µ      | –°–æ–∫–µ—Ç—ã              | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|-------------|------------------------|----------------------|------------|
| **IPv4 + IPv6** | –∑–∞–¥–∞–Ω—ã –∏ `v4host`, –∏ `v6host` | udp4 –∏ udp6          | Dual-stack (—Ç–µ–∫—É—â–∏–π —Ç–∏–ø–∏—á–Ω—ã–π —Å–ª—É—á–∞–π). |
| **–¢–æ–ª—å–∫–æ IPv4** | –∑–∞–¥–∞–Ω —Ç–æ–ª—å–∫–æ `v4host`  | —Ç–æ–ª—å–∫–æ udp4          | –¢–µ–∫—É—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∏–ª–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è –±–µ–∑ IPv6. |
| **–¢–æ–ª—å–∫–æ IPv6** | –∑–∞–¥–∞–Ω —Ç–æ–ª—å–∫–æ `v6host`  | —Ç–æ–ª—å–∫–æ udp6          | –ö–æ–≥–¥–∞ IPv4 —É—Å—Ç–∞—Ä–µ–µ—Ç ‚Äî –∫–æ–Ω—Ñ–∏–≥ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã, —Ç–æ–ª—å–∫–æ —É–±—Ä–∞—Ç—å/–Ω–µ –∑–∞–¥–∞–≤–∞—Ç—å `v4host`. |

**–ü—Ä–∞–≤–∏–ª–∞:**
- –•–æ—Ç—è –±—ã –æ–¥–∏–Ω –∏–∑ `v4host`, `v6host` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–¥–∞–Ω (–Ω–µ –ø—É—Å—Ç–æ–π). –ò–Ω–∞—á–µ ‚Äî –æ—à–∏–±–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ.
- –û–¥–∏–Ω –æ–±—â–∏–π `port` –¥–ª—è –≤—Å–µ—Ö —Å–æ–∑–¥–∞–≤–∞–µ–º—ã—Ö —Å–æ–∫–µ—Ç–æ–≤.
- –í –∫–æ–¥–µ: —Å–æ–∑–¥–∞—ë–º —Å–æ–∫–µ—Ç udp4 —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∑–∞–¥–∞–Ω `bindV4Host`, —Å–æ–∫–µ—Ç udp6 —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∑–∞–¥–∞–Ω `bindV6Host`.

---

## –†–µ—à–µ–Ω–∏–µ: –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

**–í—ã–±—Ä–∞–Ω –≤–∞—Ä–∏–∞–Ω—Ç B ‚Äî –ø—Ä–µ—Ñ–∏–∫—Å—ã v4 –∏ v6, –æ–±–∞ —Ö–æ—Å—Ç–∞ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã.**

- –°–µ–∫—Ü–∏—è `[app]`: `v4host` (–æ–ø—Ü.), `v6host` (–æ–ø—Ü.), `port`. –•–æ—Ç—è –±—ã –æ–¥–∏–Ω –∏–∑ `v4host`, `v6host` –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω.
- –û–ø—Ü–∏–∏ —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω—ã –ø–æ –ø—Ä–µ—Ñ–∏–∫—Å—É: `v4*` ‚Äî IPv4, `v6*` ‚Äî IPv6.
- –†–µ–∂–∏–º –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –Ω–∞–ª–∏—á–∏–µ–º –∑–Ω–∞—á–µ–Ω–∏–π: –æ–±–∞ ‚Äî dual-stack, —Ç–æ–ª—å–∫–æ v4host ‚Äî IPv4, —Ç–æ–ª—å–∫–æ v6host ‚Äî IPv6.
- –ó–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `port=53` (–∏–ª–∏ —Ç–µ–∫—É—â–µ–µ). –ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –æ–±–æ–∏—Ö —Ö–æ—Å—Ç–æ–≤ ‚Äî –æ—à–∏–±–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.

**–û–ø—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (Options):**
- `bindV4Host: string | undefined` ‚Äî –ø—Ä–∏–≤—è–∑–∫–∞ IPv4; –µ—Å–ª–∏ –∑–∞–¥–∞–Ω, —Å–æ–∑–¥–∞—ë—Ç—Å—è —Å–æ–∫–µ—Ç udp4.
- `bindV6Host: string | undefined` ‚Äî –ø—Ä–∏–≤—è–∑–∫–∞ IPv6; –µ—Å–ª–∏ –∑–∞–¥–∞–Ω, —Å–æ–∑–¥–∞—ë—Ç—Å—è —Å–æ–∫–µ—Ç udp6.
- `bindPort: number` ‚Äî –æ–±—â–∏–π –ø–æ—Ä—Ç –¥–ª—è –≤—Å–µ—Ö —Å–æ–∫–µ—Ç–æ–≤.
- –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ: —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –∏–∑ `bindV4Host`, `bindV6Host` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–¥–∞–Ω.

**–ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑ INI:** –≤ —Å–µ–∫—Ü–∏–∏ `[app]` —á–∏—Ç–∞—Ç—å `v4host`, `v6host`, `port`. –û–±–∞ —Ö–æ—Å—Ç–∞ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã, –Ω–æ –Ω–µ –æ–±–∞ –ø—É—Å—Ç—ã–µ/–æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç.

---

## üé®üé®üé® EXITING CREATIVE PHASE

### –ò—Ç–æ–≥ —Ä–µ—à–µ–Ω–∏–π

| –û–±–ª–∞—Å—Ç—å | –†–µ—à–µ–Ω–∏–µ |
|--------|--------|
| –°–æ–∫–µ—Ç—ã | `socket: Socket \| null` (udp4), `socket6: Socket \| null` (udp6). –°–æ–∑–¥–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∑–∞–¥–∞–Ω–Ω–æ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–º —Ö–æ—Å—Ç–µ. –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø–æ–ª—É—á–∞–µ—Ç —Å–æ–∫–µ—Ç —Ç—Ä–µ—Ç—å–∏–º –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º, send* –ø—Ä–∏–Ω–∏–º–∞—é—Ç —Å–æ–∫–µ—Ç –∏ –≤—ã–∑—ã–≤–∞—é—Ç `socket.send()`. |
| –†–µ–∂–∏–º—ã –±–∏–Ω–¥–∏–Ω–≥–∞ | IPv4+IPv6 (–æ–±–∞ —Ö–æ—Å—Ç–∞), —Ç–æ–ª—å–∫–æ IPv4 (v4host), —Ç–æ–ª—å–∫–æ IPv6 (v6host). –•–æ—Ç—è –±—ã –æ–¥–∏–Ω —Ö–æ—Å—Ç –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω. |
| –ö–æ–Ω—Ñ–∏–≥ | –û–¥–Ω–∞ —Å–µ–∫—Ü–∏—è `[app]`: `v4host` (–æ–ø—Ü.), `v6host` (–æ–ø—Ü.), `port`. –û–¥–∏–Ω `port` –¥–ª—è –≤—Å–µ—Ö —Å–æ–∫–µ—Ç–æ–≤. |
| Options | `bindV4Host?: string`, `bindV6Host?: string`, `bindPort: number`. –•–æ—Ç—è –±—ã –æ–¥–∏–Ω —Ö–æ—Å—Ç –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω. –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑ INI: `v4host`, `v6host`, `port`. |

### –í–∞–ª–∏–¥–∞—Ü–∏—è

- –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ dual-stack: ‚úÖ –¥–≤–∞ —Å–æ–∫–µ—Ç–∞ –ø—Ä–∏ –∑–∞–¥–∞–Ω–Ω—ã—Ö `v4host` –∏ `v6host`.
- –¢–æ–ª—å–∫–æ IPv6 (–±–µ–∑ –ø–µ—Ä–µ–¥–µ–ª–∫–∏ –ø—Ä–∏ —É—Å—Ç–∞—Ä–µ–≤–∞–Ω–∏–∏ IPv4): ‚úÖ –∑–∞–¥–∞—Ç—å —Ç–æ–ª—å–∫–æ `v6host`, –Ω–µ –∑–∞–¥–∞–≤–∞—Ç—å `v4host`.
- –ü—Ä–æ—Å—Ç–æ—Ç–∞ –∫–æ–¥–∞: ‚úÖ —è–≤–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ —Å–æ–∫–µ—Ç–∞, –æ–±–∞ —Å–æ–∫–µ—Ç–∞ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã.
- –ü—Ä–æ—Å—Ç–æ—Ç–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏: ‚úÖ –æ–¥–Ω–∞ —Å–µ–∫—Ü–∏—è, –æ–¥–∏–Ω –ø–æ—Ä—Ç, –¥–≤–∞ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö —Ö–æ—Å—Ç–∞ (–º–∏–Ω–∏–º—É–º –æ–¥–∏–Ω).

---

**–î–æ–∫—É–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω –≤ —Ä–∞–º–∫–∞—Ö task20260121120400. –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥: VAN QA ‚Üí BUILD.**
